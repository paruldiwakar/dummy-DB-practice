{"ast":null,"code":"var _jsxFileName = \"/Users/paruldiwakar/Desktop/cds-admin-frontend/src/components/Testimonial/Addtabletestimonial.js\";\nimport React, { useEffect, useState } from \"react\"; // import Button from 'react-bootstrap/Button'\n// components\n// import Testimonialpic from \"components/Testimonial/Testimonialpic\";\n\nexport default function Edittestimonialtable() {\n  const [testimonial, setTestimonial] = useState(null);\n  const [form, setForm] = useState({\n    testimonialname: \"\",\n    testimonialbody: \"\",\n    testimonialtitle: \"\",\n    testimonialpicture: \"\"\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  useEffect(() => {\n    fetchTestimonial();\n  }, []);\n\n  const fetchTestimonial = async () => {\n    setIsSubmitting(true);\n    const res = await fetch('/addtestimonial');\n    const data = await res.json();\n    setIsSubmitting(false);\n    setTestimonial(data);\n  };\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const validate = () => {\n    let err = {};\n\n    if (!form.testimonialname) {\n      err.testimonialname = 'testimonial name is required';\n    }\n\n    if (!form.testimonialbody) {\n      err.testimonialbody = 'testimonial body is required';\n    }\n\n    if (!form.testimonialtitle) {\n      err.testimonialtitle = 'testimonial title is required';\n    }\n\n    if (!form.testimonialpicture) {\n      err.ctestimonialpicture = 'testimonial pictureis required';\n    }\n\n    return err;\n  };\n\n  const showError = errorObj => {\n    let errMsg = '';\n\n    for (let err in errorObj) {\n      errMsg += `${errorObj[err]}. `;\n    }\n\n    alert(`Errors ${errMsg}`);\n  };\n\n  const postTestimonials = async data => {\n    await fetch('/addtestimonial', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const errors = validate();\n\n    if (Object.keys(errors).length === 0) {\n      setIsSubmitting(true);\n      await postTestimonials(form);\n      setIsSubmitting(false);\n      setForm({\n        testimonialname: \"\",\n        testimonialbody: \"\",\n        testimonialtitle: \"\",\n        testimonialpicture: \"\"\n      });\n      fetchTestimonial();\n    } else {\n      showError(errors);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-200 border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rounded-t bg-white mb-0 px-6 py-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center flex justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-gray-800 text-xl font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, \"Add Testimonial\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-blue-500 text-white active:bg-blue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150\",\n    type: \"button\",\n    onClick: event => window.location.href = '/testimonial',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"All Testimonials\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-auto px-4 lg:px-10 py-10 pt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Testimonial Information\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full lg:w-6/12 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n    htmlFor: \"grid-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n    placeholder: \"Enter Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full lg:w-6/12 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n    htmlFor: \"grid-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n    placeholder: \"Enter Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"mt-6 border-b-1 border-gray-400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, \"Body\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full lg:w-12/12 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n    htmlFor: \"grid-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 19\n    }\n  }, \"Testimonial body\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\",\n    rows: \"4\",\n    placeholder: \"Enter body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"mt-6 border-b-1 border-gray-400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full lg:w-12/12 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-full mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"block uppercase text-gray-700 text-xs font-bold mb-2\",\n    htmlFor: \"grid-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 19\n    }\n  }, \"Profile Image\"), /*#__PURE__*/React.createElement(Testimonialpic, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: event => window.location.href = '/testimonial',\n    style: {\n      backgroundColor: 'grey',\n      color: 'white',\n      bordercolor: 'white',\n      width: '100%',\n      height: '40px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 22\n    }\n  }, \"Submit\"))))));\n}","map":{"version":3,"sources":["/Users/paruldiwakar/Desktop/cds-admin-frontend/src/components/Testimonial/Addtabletestimonial.js"],"names":["React","useEffect","useState","Edittestimonialtable","testimonial","setTestimonial","form","setForm","testimonialname","testimonialbody","testimonialtitle","testimonialpicture","isSubmitting","setIsSubmitting","fetchTestimonial","res","fetch","data","json","handleChange","e","target","name","value","validate","err","ctestimonialpicture","showError","errorObj","errMsg","alert","postTestimonials","method","headers","body","JSON","stringify","handleSubmit","preventDefault","errors","Object","keys","length","event","window","location","href","backgroundColor","color","bordercolor","width","height"],"mappings":"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","sourcesContent":["import React, {useEffect,useState} from \"react\";\n// import Button from 'react-bootstrap/Button'\n\n// components\n// import Testimonialpic from \"components/Testimonial/Testimonialpic\";\n\nexport default function Edittestimonialtable() {\n       \n  const [testimonial, setTestimonial] = useState(null);\n  const [form, setForm] = useState({\n    testimonialname:\"\",\n    testimonialbody:\"\",\n    testimonialtitle:\"\",\n    testimonialpicture:\"\"\n  });\n\nconst [isSubmitting, setIsSubmitting] = useState(false);\n\nuseEffect(() => {\n  fetchTestimonial();\n}, [])\n\nconst fetchTestimonial = async () => {\n  setIsSubmitting(true);\n  const res = await fetch('/addtestimonial');\n  const data = await res.json();\n  setIsSubmitting(false);\n  setTestimonial(data);\n}\n\nconst handleChange = (e) => {\n  setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  })\n}\n\n\nconst validate = () => {\n  let err = {};\n\n  if(!form.testimonialname){\n    err.testimonialname='testimonial name is required'\n  }\n  if(!form.testimonialbody){\n    err.testimonialbody='testimonial body is required'\n  }\n  if(!form.testimonialtitle){\n    err.testimonialtitle='testimonial title is required'\n  }\n  if(!form.testimonialpicture){\n    err.ctestimonialpicture='testimonial pictureis required'\n  }\n\n  return err; \n}\n\n \nconst showError = (errorObj) => {\n  let errMsg = '';\n\n  for(let err in errorObj){\n    errMsg += `${errorObj[err]}. `;\n  }\n \n  alert(`Errors ${errMsg}`);\n\n}\n\n\nconst postTestimonials = async (data) => {\n  await fetch('/addtestimonial', {\n    method: 'POST',\n    headers:{\n      'Accept' : 'application/json',\n      'Content-Type' : 'application/json'\n    },\n    body : JSON.stringify(data)\n\n  })\n}\n\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n  const errors = validate();\n  if(Object.keys(errors).length === 0){\n    setIsSubmitting(true);\n    await postTestimonials(form);\n    setIsSubmitting(false);\n    setForm({\n      testimonialname:\"\",\n      testimonialbody:\"\",\n      testimonialtitle:\"\",\n      testimonialpicture:\"\"\n    })\n    fetchTestimonial();\n  }else{\n    showError(errors);\n  }\n}\n  return (\n    <>\n      <div className=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-200 border-0\">\n        <div className=\"rounded-t bg-white mb-0 px-6 py-6\">\n          <div className=\"text-center flex justify-between\">\n            <h6 className=\"text-gray-800 text-xl font-bold\">Add Testimonial</h6>\n            <button\n              className=\"bg-blue-500 text-white active:bg-blue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150\"\n              type=\"button\" onClick={event =>  window.location.href='/testimonial'}\n            >\n              All Testimonials\n            </button>\n          </div>\n        </div>\n        <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\n          <form>\n            <h6 className=\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\">\n              Testimonial Information\n            </h6>\n            <div className=\"flex flex-wrap\">\n              <div className=\"w-full lg:w-6/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                    placeholder=\"Enter Name\"\n                  />\n                </div>\n              </div>\n              <div className=\"w-full lg:w-6/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Title\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                    placeholder=\"Enter Title\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\n\n            <h6 className=\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\">\n              Body\n            </h6>\n            <div className=\"flex flex-wrap\">\n              <div className=\"w-full lg:w-12/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                    Testimonial body\n                  </label>\n                  <textarea\n                    type=\"text\"\n                    className=\"px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150\"\n                    rows=\"4\" placeholder=\"Enter body\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <hr className=\"mt-6 border-b-1 border-gray-400\" />\n\n            <h6 className=\"text-gray-500 text-sm mt-3 mb-6 font-bold uppercase\">\n              Image\n            </h6>\n            <div className=\"flex flex-wrap\">\n              <div className=\"w-full lg:w-12/12 px-4\">\n                <div className=\"relative w-full mb-3\">\n                  <label\n                    className=\"block uppercase text-gray-700 text-xs font-bold mb-2\"\n                    htmlFor=\"grid-password\"\n                  >\n                   Profile Image\n                  </label>\n                  <Testimonialpic />\n                </div>\n              </div>\n            </div>\n\n            <center> <button type=\"button\"  onClick={event =>  window.location.href='/testimonial'} style={{backgroundColor:'grey',color:'white',bordercolor:'white',width:'100%',height:'40px'}}>\n                                                Submit\n                     </button>\n            </center>\n\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}